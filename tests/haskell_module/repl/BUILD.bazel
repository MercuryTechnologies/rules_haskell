load("//tests/integration_testing:rules_haskell_integration_test.bzl", "rules_haskell_integration_test")

package(default_testonly = 1)

rules_haskell_integration_test(
    name = "haskell_module_repl_test",
    size = "small",
    srcs = ["HaskellModuleReplTest.hs"],
    tags = [
        # See https://github.com/tweag/rules_haskell/issues/1486
        "dont_test_on_darwin_with_bindist",
        "dont_test_on_windows",
    ],
    workspace_path = "haskell_module_repl_test",
)

rules_haskell_integration_test(
    name = "haskell_module_repl_cross_library_deps_test",
    size = "small",
    srcs = ["HaskellModuleReplCrossLibraryDepsTest.hs"],
    tags = [
        # See https://github.com/tweag/rules_haskell/issues/1486
        "dont_test_on_darwin_with_bindist",
        "dont_test_on_windows",
    ],
    workspace_path = "haskell_module_repl_cross_library_deps_test",
)

filegroup(
    name = "all_files",
    testonly = True,
    srcs = glob(["**"]),
    visibility = ["//visibility:public"],
)
